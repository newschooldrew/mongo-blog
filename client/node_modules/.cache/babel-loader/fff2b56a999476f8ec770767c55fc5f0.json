{"ast":null,"code":"var _jsxFileName = \"/Users/andrewperez/Documents/projects/july_projects/mongo-blog/client/src/components/LikePost/LikePost.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { fetchFavorites, increaseLike, decreaseLike } from '../../actions';\nimport AuthContext from '../../AuthContext';\n\nconst LikePost = ({\n  id,\n  user\n}) => {\n  const {\n    state,\n    dispatch,\n    allPosts\n  } = useContext(AuthContext);\n  const {\n    username,\n    favorites\n  } = state;\n  const [values, setValues] = useState({\n    id\n  });\n  useEffect(() => {\n    fetchFavorites(user, dispatch);\n  }, [user]);\n\n  const handleClick = async () => {\n    const prevLiked = favorites.findIndex(fav => fav == id) > -1;\n    console.log(prevLiked);\n\n    if (prevLiked == true) {\n      console.log(\"like decreased\");\n      await decreaseLike(id);\n    } else {\n      console.log(\"like increased\");\n      await increaseLike(id);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, \"Like Post\"));\n};\n\nexport default LikePost;","map":{"version":3,"sources":["/Users/andrewperez/Documents/projects/july_projects/mongo-blog/client/src/components/LikePost/LikePost.js"],"names":["React","useContext","useEffect","useState","fetchFavorites","increaseLike","decreaseLike","AuthContext","LikePost","id","user","state","dispatch","allPosts","username","favorites","values","setValues","handleClick","prevLiked","findIndex","fav","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAqD,OAArD;AACA,SAAQC,cAAR,EAAuBC,YAAvB,EAAoCC,YAApC,QAAuD,eAAvD;AACA,OAAOC,WAAP,MAAwB,mBAAxB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAACC,EAAAA,EAAD;AAAIC,EAAAA;AAAJ,CAAD,KAAe;AAC5B,QAAM;AAACC,IAAAA,KAAD;AAAOC,IAAAA,QAAP;AAAgBC,IAAAA;AAAhB,MAA4BZ,UAAU,CAACM,WAAD,CAA5C;AACA,QAAM;AAACO,IAAAA,QAAD;AAAUC,IAAAA;AAAV,MAAuBJ,KAA7B;AACA,QAAM,CAACK,MAAD,EAAQC,SAAR,IAAqBd,QAAQ,CAAC;AAACM,IAAAA;AAAD,GAAD,CAAnC;AAEAP,EAAAA,SAAS,CAAC,MAAI;AACVE,IAAAA,cAAc,CAACM,IAAD,EAAME,QAAN,CAAd;AACH,GAFQ,EAEP,CAACF,IAAD,CAFO,CAAT;;AAIA,QAAMQ,WAAW,GAAG,YAAW;AAC3B,UAAMC,SAAS,GAAGJ,SAAS,CAACK,SAAV,CAAoBC,GAAG,IAAIA,GAAG,IAAIZ,EAAlC,IAAwC,CAAC,CAA3D;AACAa,IAAAA,OAAO,CAACC,GAAR,CAAYJ,SAAZ;;AACA,QAAGA,SAAS,IAAI,IAAhB,EAAqB;AACjBG,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,YAAMjB,YAAY,CAACG,EAAD,CAAlB;AACH,KAHD,MAGM;AACFa,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,YAAMlB,YAAY,CAACI,EAAD,CAAlB;AACH;AACJ,GAVD;;AAaA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,OAAO,EAAES,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,CADJ;AAKH,CA3BD;;AA6BA,eAAeV,QAAf","sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\nimport {fetchFavorites,increaseLike,decreaseLike} from '../../actions'\nimport AuthContext from '../../AuthContext'\n\nconst LikePost = ({id,user}) => {\n    const {state,dispatch,allPosts} = useContext(AuthContext)\n    const {username,favorites} = state;\n    const [values,setValues] = useState({id})\n\n    useEffect(()=>{\n        fetchFavorites(user,dispatch)\n    },[user])\n\n    const handleClick = async() => {\n        const prevLiked = favorites.findIndex(fav => fav == id) > -1;\n        console.log(prevLiked)\n        if(prevLiked == true){\n            console.log(\"like decreased\")\n            await decreaseLike(id)\n        } else{\n            console.log(\"like increased\")\n            await increaseLike(id)\n        }\n    }\n        \n    \n    return (\n        <div>\n            <button onClick={handleClick}>Like Post</button>\n        </div>\n    )\n}\n\nexport default LikePost\n"]},"metadata":{},"sourceType":"module"}