{"ast":null,"code":"import axios from 'axios';\nexport const createUser = (user, dispatch, history) => {\n  axios.post('/create-user', user, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    }\n  }).then(res => {\n    const {\n      data\n    } = res;\n    console.log(data);\n\n    if (res.data === 'user already exists') {\n      console.log(\"user already exists!\");\n      localStorage.setItem(\"sign_up_msg\", \"user already exists\");\n    }\n\n    dispatch({\n      type: \"CREATE_USER\",\n      payload: data\n    });\n  });\n  history.push('/welcome');\n};\nexport const signInUser = (user, history) => {\n  axios.post('/sign-in-user', user, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    }\n  }).then(res => {\n    console.log(res.data);\n\n    if (res.data === 'user not found' || res.data === 'password not found') {\n      localStorage.setItem(\"sign_in_msg\", \"login credentials not found\");\n    } else {\n      localStorage.setItem('username', res.headers['username']);\n      localStorage.setItem('token', res.headers['authorization']);\n      history.push('/welcome');\n    }\n  });\n};\nexport const getUser = () => {\n  const token = localStorage.getItem('token');\n\n  if (token) {\n    console.log(\"welcome\");\n    console.log(token);\n  } else {\n    console.log(\"please sign in\");\n  }\n};\nexport const signOut = history => {\n  localStorage.removeItem('username');\n  localStorage.removeItem('token');\n  history.push('/');\n};\nexport const createPost = post => {\n  axios.post('/create-new-post', post).then(res => {\n    if (res.headers.post === 'success') {\n      localStorage.setItem('success', \"Thanks! Post was successfully created\");\n    }\n  });\n};\nexport const fetchPosts = async (username, dispatch) => {\n  const res = await axios.post('/fetch-posts', {\n    username: username\n  });\n  console.log(\"fetch posts response is: \");\n  console.log(res.data);\n  dispatch({\n    type: \"FETCH_POSTS\",\n    payload: res.data\n  });\n};\nexport const fetchAllPosts = async (username, dispatch) => {\n  const res = await axios.get('/fetch-all-posts');\n  console.log(\"fetch all posts:\");\n  console.log(res);\n  dispatch({\n    type: \"FETCH_ALL_POSTS\",\n    payload: res.data\n  });\n};\nexport const postComment = async (comment, username, id, key, dispatch) => {\n  const content = {\n    comment,\n    username,\n    id,\n    key\n  };\n  const res = await axios.post('/create-comment', content);\n  console.log(\"newest comment posted\");\n  console.log(res.data[\"content\"]);\n  const newComment = res.data[\"content\"];\n  dispatch({\n    type: \"COMMENT_CREATE\",\n    payload: newComment\n  });\n};\nexport const updatePost = (post, dispatch) => {\n  axios.post('/update-post', post).then(res => {\n    console.log(\"res:\");\n    console.log(res.data);\n    dispatch({\n      type: \"POST_UPDATED\",\n      payload: res.data\n    });\n  });\n};\nexport const editComment = async comment => {\n  const res = await axios.post('/edit-comment', comment);\n};\nexport const increaseLike = async id => {\n  console.log(\"id:\");\n  console.log(id);\n  const res = await axios.post('/increase-like', {\n    id\n  });\n  console.log(res);\n};\nexport const decreaseLike = async id => {\n  console.log(\"id:\");\n  console.log(id);\n  const res = await axios.post('/decrease-like', {\n    id\n  });\n  console.log(res);\n};\nexport const increaseCommentLike = async (idPost, idComment, username, dispatch) => {\n  console.log(\"idPost,idComment:\");\n  console.log(idPost, idComment);\n  const foundFav = favorites.findIndex(fav => fav == idComment);\n  const res = await axios.post('/increase-comment-like', {\n    idPost,\n    idComment,\n    username\n  });\n  const favorites = res.data.favorites;\n  console.log(favorites);\n  console.log(\"foundFav:\");\n  console.log(foundFav);\n};\nexport const decreaseCommentLike = async (idPost, idComment) => {\n  const res = await axios.post('/decrease-comment-like', {\n    idPost,\n    idComment\n  });\n};\nexport const fetchFavorites = async (idPost, idComment, username, dispatch) => {\n  console.log(\"idPost,idComment:\");\n  console.log(idPost, idComment);\n  const res = await axios.post('/fetch-favorites', {\n    idPost,\n    idComment,\n    username\n  });\n  const favorites = res.data.favorites;\n  console.log(favorites);\n  console.log(\"find like number\");\n  console.log(res.data);\n  dispatch({\n    type: \"FETCH_FAVORITES\",\n    payload: favorites\n  });\n};","map":{"version":3,"sources":["/Users/andrewperez/Documents/projects/july_projects/mongo-blog/client/src/actions.js"],"names":["axios","createUser","user","dispatch","history","post","headers","then","res","data","console","log","localStorage","setItem","type","payload","push","signInUser","getUser","token","getItem","signOut","removeItem","createPost","fetchPosts","username","fetchAllPosts","get","postComment","comment","id","key","content","newComment","updatePost","editComment","increaseLike","decreaseLike","increaseCommentLike","idPost","idComment","foundFav","favorites","findIndex","fav","decreaseCommentLike","fetchFavorites"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nexport const createUser =  (user, dispatch,history) => {\n    axios.post('/create-user',user,{ \n            headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'}\n        }).then(res => {\n            const {data} = res;\n            console.log(data)\n            if(res.data === 'user already exists'){\n                console.log(\"user already exists!\")\n                localStorage.setItem(\"sign_up_msg\",\"user already exists\")\n            }\n            dispatch({type:\"CREATE_USER\",payload:data})\n        })\n        history.push('/welcome')\n    }\n\nexport const signInUser = (user,history) =>{\n        \n        axios.post('/sign-in-user',user,{ \n        headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n        }\n    }).then(res => {\n        console.log(res.data)\n        \n        if(res.data === 'user not found' || res.data === 'password not found'){\n            localStorage.setItem(\"sign_in_msg\",\"login credentials not found\")\n        }\n         else{\n            localStorage.setItem('username',res.headers['username'])\n            localStorage.setItem('token',res.headers['authorization'])\n\n            history.push('/welcome')\n        }\n    })\n}\n\nexport const getUser = () =>{\n\n    const token = localStorage.getItem('token');\n    if(token){\n        console.log(\"welcome\")\n        console.log(token)\n    }else{\n        console.log(\"please sign in\")\n    }\n}\n\nexport const signOut = history =>{\n    localStorage.removeItem('username')\n    localStorage.removeItem('token')\n    history.push('/')\n}\n\nexport const createPost = post =>{\n    axios.post('/create-new-post', post).then(res => {\n        if(res.headers.post === 'success'){\n            localStorage.setItem('success',\"Thanks! Post was successfully created\")\n        }\n    })\n}\n\nexport const fetchPosts = async (username,dispatch) =>{\n    const res = await axios.post('/fetch-posts',{username:username});\n        console.log(\"fetch posts response is: \")\n        console.log(res.data)\n        dispatch({type:\"FETCH_POSTS\",payload:res.data})\n    }\n\nexport const fetchAllPosts = async (username,dispatch) =>{\n    const res = await axios.get('/fetch-all-posts');\n    console.log(\"fetch all posts:\")\n    console.log(res)\n    dispatch({type:\"FETCH_ALL_POSTS\",payload:res.data})\n}\n\nexport const postComment = async (comment,username,id,key,dispatch) =>{\n    const content = {comment,username,id,key}\n    const res = await axios.post('/create-comment', content);\n        console.log(\"newest comment posted\")\n        console.log(res.data[\"content\"])\n        const newComment = res.data[\"content\"]\n        dispatch({type:\"COMMENT_CREATE\",payload:newComment})\n}\n\nexport const updatePost = (post,dispatch) =>{\n    axios.post('/update-post',post).then(res => {\n        console.log(\"res:\")\n        console.log(res.data)\n        dispatch({type:\"POST_UPDATED\",payload:res.data})\n    })\n}\n\nexport const editComment = async comment =>{\n    const res = await axios.post('/edit-comment',comment);\n}\n\nexport const increaseLike = async id =>{\n    console.log(\"id:\")\n    console.log(id)\n    const res = await axios.post('/increase-like',{id});\n    console.log(res)\n}\n\nexport const decreaseLike = async id =>{\n    console.log(\"id:\")\n    console.log(id)\n    const res = await axios.post('/decrease-like',{id});\n    console.log(res)\n}\n\nexport const increaseCommentLike = async (idPost,idComment,username,dispatch) =>{\n    console.log(\"idPost,idComment:\")\n    console.log(idPost,idComment)\n    const foundFav = favorites.findIndex(fav => fav == idComment);\n    const res = await axios.post('/increase-comment-like',{idPost,idComment,username});\n    const favorites = res.data.favorites;\n    console.log(favorites)\n    console.log(\"foundFav:\")\n    console.log(foundFav)\n}\n\nexport const decreaseCommentLike = async (idPost,idComment) =>{\n    const res = await axios.post('/decrease-comment-like',{idPost,idComment});\n}\n\nexport const fetchFavorites = async (idPost,idComment,username,dispatch) =>{\n    console.log(\"idPost,idComment:\")\n    console.log(idPost,idComment)\n    const res = await axios.post('/fetch-favorites',{idPost,idComment,username});\n    const favorites = res.data.favorites;\n    console.log(favorites)\n    console.log(\"find like number\")\n    console.log(res.data)\n    dispatch({type:\"FETCH_FAVORITES\",payload:favorites})\n}"]},"metadata":{},"sourceType":"module"}