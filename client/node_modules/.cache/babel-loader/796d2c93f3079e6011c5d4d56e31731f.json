{"ast":null,"code":"import axios from 'axios';\nimport React, { useContext } from 'react';\nimport Context from '../src/Context';\nconst {\n  state\n} = useContext(Context);\nexport const createUser = async user => {\n  await axios.post('/create-user', user, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    }\n  });\n};\nexport const signInUser = (user, history) => {\n  axios.post('/sign-in-user', user, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    }\n  }).then(res => {\n    console.log(res.data);\n\n    if (res.data === 'user not found') {\n      const {\n        errMsg\n      } = state;\n      errMsg = \"user is incorrect\";\n    } else if (res.data === 'user not found') {\n      const {\n        errMsg\n      } = state;\n      errMsg = \"password is incorrect\";\n    } // } else{\n    //     localStorage.setItem('username',res.headers['username'])\n    //     localStorage.setItem('token',res.headers['authorization'])\n    //     history.push('/welcome')\n    // }\n\n  });\n};\nexport const getUser = () => {\n  const token = localStorage.getItem('token');\n\n  if (token) {\n    console.log(\"welcome\");\n    console.log(token);\n  } else {\n    console.log(\"please sign in\");\n  }\n};\nexport const signOut = history => {\n  localStorage.removeItem('username');\n  localStorage.removeItem('token');\n  history.push('/');\n};","map":{"version":3,"sources":["/Users/andrewperez/Documents/projects/july_projects/mongo-blog/client/src/actions.js"],"names":["axios","React","useContext","Context","state","createUser","user","post","headers","signInUser","history","then","res","console","log","data","errMsg","getUser","token","localStorage","getItem","signOut","removeItem","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAcC,UAAd,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,MAAM;AAACC,EAAAA;AAAD,IAAUF,UAAU,CAACC,OAAD,CAA1B;AACA,OAAO,MAAME,UAAU,GAAG,MAAMC,IAAN,IAAc;AACpC,QAAMN,KAAK,CAACO,IAAN,CAAW,cAAX,EAA0BD,IAA1B,EAA+B;AAC7BE,IAAAA,OAAO,EAAE;AACT,sBAAgB,kBADP;AAET,gBAAU;AAFD;AADoB,GAA/B,CAAN;AAKC,CANE;AAQP,OAAO,MAAMC,UAAU,GAAG,CAACH,IAAD,EAAMI,OAAN,KAAiB;AACnCV,EAAAA,KAAK,CAACO,IAAN,CAAW,eAAX,EAA2BD,IAA3B,EAAgC;AAChCE,IAAAA,OAAO,EAAE;AACT,sBAAgB,kBADP;AAET,gBAAU;AAFD;AADuB,GAAhC,EAKDG,IALC,CAKIC,GAAG,IAAI;AAEXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;;AAEA,QAAGH,GAAG,CAACG,IAAJ,KAAa,gBAAhB,EAAiC;AAC7B,YAAM;AAACC,QAAAA;AAAD,UAAWZ,KAAjB;AACAY,MAAAA,MAAM,GAAG,mBAAT;AACH,KAHD,MAGO,IAAIJ,GAAG,CAACG,IAAJ,KAAa,gBAAjB,EAAmC;AACtC,YAAM;AAACC,QAAAA;AAAD,UAAWZ,KAAjB;AACAY,MAAAA,MAAM,GAAG,uBAAT;AACH,KAVU,CAWX;AACA;AACA;AACA;AACA;;AACH,GArBG;AAsBP,CAvBM;AAyBP,OAAO,MAAMC,OAAO,GAAG,MAAK;AAExB,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,MAAGF,KAAH,EAAS;AACLL,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACH,GAHD,MAGK;AACDL,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH;AACJ,CATM;AAWP,OAAO,MAAMO,OAAO,GAAGX,OAAO,IAAG;AAC7BS,EAAAA,YAAY,CAACG,UAAb,CAAwB,UAAxB;AACAH,EAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACAZ,EAAAA,OAAO,CAACa,IAAR,CAAa,GAAb;AACH,CAJM","sourcesContent":["import axios from 'axios'\nimport React,{useContext} from 'react'\nimport Context from '../src/Context'\nconst {state} = useContext(Context);\nexport const createUser = async user => {\n    await axios.post('/create-user',user,{ \n            headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'}\n        })\n    }\n\nexport const signInUser = (user,history) =>{\n        axios.post('/sign-in-user',user,{ \n        headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n        }\n    }).then(res => {\n        \n        console.log(res.data)\n        \n        if(res.data === 'user not found'){\n            const {errMsg} = state;\n            errMsg = \"user is incorrect\"\n        } else if (res.data === 'user not found') {\n            const {errMsg} = state;\n            errMsg = \"password is incorrect\"\n        }\n        // } else{\n        //     localStorage.setItem('username',res.headers['username'])\n        //     localStorage.setItem('token',res.headers['authorization'])\n        //     history.push('/welcome')\n        // }\n    })\n}\n\nexport const getUser = () =>{\n\n    const token = localStorage.getItem('token');\n    if(token){\n        console.log(\"welcome\")\n        console.log(token)\n    }else{\n        console.log(\"please sign in\")\n    }\n}\n\nexport const signOut = history =>{\n    localStorage.removeItem('username')\n    localStorage.removeItem('token')\n    history.push('/')\n}"]},"metadata":{},"sourceType":"module"}