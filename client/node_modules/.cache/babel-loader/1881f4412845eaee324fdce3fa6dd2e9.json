{"ast":null,"code":"import axios from 'axios';\nimport React from 'react';\nexport const createUser = async user => {\n  await axios.post('/create-user', user, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    }\n  });\n};\nexport const signInUser = user => {\n  return dispatch => {\n    axios.post('/sign-in-user', user, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }).then(res => {\n      console.log(res.headers['username']);\n      localStorage.setItem('username', res.headers['username']);\n      console.log(res.headers['authorization']);\n      localStorage.setItem('token', res.headers['authorization']); // localStorage.setItem('token',res.headers['authorization'])\n\n      const token = localStorage.getItem('token');\n      console.log(localStorage.getItem('token'));\n\n      if (token) {\n        console.log(\"welcome\");\n        console.log(token);\n      } else {\n        console.log(\"please sign in\");\n      }\n    });\n  };\n};\nexport const getUser = () => {\n  const token = localStorage.getItem('token');\n\n  if (token) {\n    console.log(\"welcome\");\n    console.log(token);\n  } else {\n    console.log(\"please sign in\");\n  }\n};\nexport const signOutUser = () => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('username');\n};","map":{"version":3,"sources":["/Users/andrewperez/Documents/projects/july_projects/mongo-blog/client/src/actions.js"],"names":["axios","React","createUser","user","post","headers","signInUser","dispatch","then","res","console","log","localStorage","setItem","token","getItem","getUser","signOutUser","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,UAAU,GAAG,MAAMC,IAAN,IAAc;AACpC,QAAMH,KAAK,CAACI,IAAN,CAAW,cAAX,EAA0BD,IAA1B,EAA+B;AAC7BE,IAAAA,OAAO,EAAE;AACT,sBAAgB,kBADP;AAET,gBAAU;AAFD;AADoB,GAA/B,CAAN;AAKC,CANE;AAQP,OAAO,MAAMC,UAAU,GAAGH,IAAI,IAAG;AACzB,SAAOI,QAAQ,IAAG;AAClBP,IAAAA,KAAK,CAACI,IAAN,CAAW,eAAX,EAA2BD,IAA3B,EAAgC;AAChCE,MAAAA,OAAO,EAAE;AACT,wBAAgB,kBADP;AAET,kBAAU;AAFD;AADuB,KAAhC,EAKDG,IALC,CAKIC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACJ,OAAJ,CAAY,UAAZ,CAAZ;AACAO,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAgCJ,GAAG,CAACJ,OAAJ,CAAY,UAAZ,CAAhC;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACJ,OAAJ,CAAY,eAAZ,CAAZ;AACAO,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BJ,GAAG,CAACJ,OAAJ,CAAY,eAAZ,CAA7B,EAJW,CAKX;;AACA,YAAMS,KAAK,GAAGF,YAAY,CAACG,OAAb,CAAqB,OAArB,CAAd;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYC,YAAY,CAACG,OAAb,CAAqB,OAArB,CAAZ;;AAEA,UAAGD,KAAH,EAAS;AACLJ,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACH,OAHD,MAGK;AACDJ,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACC;AACJ,KApBD;AAqBH,GAtBG;AAuBP,CAxBM;AA0BP,OAAO,MAAMK,OAAO,GAAG,MAAK;AAExB,QAAMF,KAAK,GAAGF,YAAY,CAACG,OAAb,CAAqB,OAArB,CAAd;;AACA,MAAGD,KAAH,EAAS;AACLJ,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACH,GAHD,MAGK;AACDJ,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACH;AACJ,CATM;AAWP,OAAO,MAAMM,WAAW,GAAG,MAAK;AAC5BL,EAAAA,YAAY,CAACM,UAAb,CAAwB,OAAxB;AACAN,EAAAA,YAAY,CAACM,UAAb,CAAwB,UAAxB;AACH,CAHM","sourcesContent":["import axios from 'axios'\nimport React from 'react'\nexport const createUser = async user => {\n    await axios.post('/create-user',user,{ \n            headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'}\n        })\n    }\n\nexport const signInUser = user =>{\n        return dispatch =>{\n        axios.post('/sign-in-user',user,{ \n        headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n        }\n    }).then(res => {\n        console.log(res.headers['username'])\n        localStorage.setItem('username',res.headers['username'])\n        console.log(res.headers['authorization'])\n        localStorage.setItem('token',res.headers['authorization'])\n        // localStorage.setItem('token',res.headers['authorization'])\n        const token = localStorage.getItem('token');\n        console.log(localStorage.getItem('token'))\n        \n        if(token){\n            console.log(\"welcome\")\n            console.log(token)\n        }else{\n            console.log(\"please sign in\")\n            }\n        })\n    }\n}\n\nexport const getUser = () =>{\n\n    const token = localStorage.getItem('token');\n    if(token){\n        console.log(\"welcome\")\n        console.log(token)\n    }else{\n        console.log(\"please sign in\")\n    }\n}\n\nexport const signOutUser = () =>{\n    localStorage.removeItem('token')\n    localStorage.removeItem('username')\n}"]},"metadata":{},"sourceType":"module"}