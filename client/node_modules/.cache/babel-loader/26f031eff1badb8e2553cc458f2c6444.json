{"ast":null,"code":"var _jsxFileName = \"/Users/andrewperez/Documents/projects/july_projects/mongo-blog/client/src/components/LikePost/LikePost.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { increaseLike, decreaseLike } from '../../actions';\nimport AuthContext from '../../AuthContext';\n\nconst LikePost = ({\n  id,\n  favorites\n}) => {\n  const {\n    state,\n    dispatch\n  } = useContext(AuthContext);\n  const {\n    username,\n    allPosts\n  } = state;\n  const [values, setValues] = useState({\n    id\n  });\n  const [liked, setLiked] = useState('');\n  let prevLiked;\n  useEffect(() => {\n    const prevLiked = favorites.findIndex(fav => fav == id) > -1;\n    console.log(prevLiked);\n    setLiked(prevLiked);\n    console.log(liked);\n  }, []);\n\n  const handleClick = () => {\n    if (liked == true) {\n      console.log(\"like decreased\");\n      decreaseLike(id, username, dispatch);\n      setLiked(false);\n      dispatch({\n        type: \"POST_DISLIKED\",\n        payload: true\n      });\n    } else {\n      console.log(\"like increased\");\n      increaseLike(id, username, dispatch);\n      setLiked(true);\n      dispatch({\n        type: \"POST_LIKED\",\n        payload: true\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, liked ? /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 23\n    }\n  }, \"Unlike Post\") : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 77\n    }\n  }, \"Like Post\"));\n};\n\nexport default LikePost;","map":{"version":3,"sources":["/Users/andrewperez/Documents/projects/july_projects/mongo-blog/client/src/components/LikePost/LikePost.js"],"names":["React","useContext","useEffect","useState","increaseLike","decreaseLike","AuthContext","LikePost","id","favorites","state","dispatch","username","allPosts","values","setValues","liked","setLiked","prevLiked","findIndex","fav","console","log","handleClick","type","payload"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAqD,OAArD;AACA,SAAQC,YAAR,EAAqBC,YAArB,QAAwC,eAAxC;AACA,OAAOC,WAAP,MAAwB,mBAAxB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAACC,EAAAA,EAAD;AAAIC,EAAAA;AAAJ,CAAD,KAAoB;AACjC,QAAM;AAACC,IAAAA,KAAD;AAAOC,IAAAA;AAAP,MAAmBV,UAAU,CAACK,WAAD,CAAnC;AACA,QAAM;AAACM,IAAAA,QAAD;AAAUC,IAAAA;AAAV,MAAsBH,KAA5B;AACA,QAAM,CAACI,MAAD,EAAQC,SAAR,IAAqBZ,QAAQ,CAAC;AAACK,IAAAA;AAAD,GAAD,CAAnC;AACA,QAAM,CAACQ,KAAD,EAAOC,QAAP,IAAmBd,QAAQ,CAAC,EAAD,CAAjC;AACA,MAAIe,SAAJ;AACAhB,EAAAA,SAAS,CAAC,MAAI;AACN,UAAMgB,SAAS,GAAGT,SAAS,CAACU,SAAV,CAAoBC,GAAG,IAAIA,GAAG,IAAIZ,EAAlC,IAAwC,CAAC,CAA3D;AACAa,IAAAA,OAAO,CAACC,GAAR,CAAYJ,SAAZ;AACAD,IAAAA,QAAQ,CAACC,SAAD,CAAR;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACP,GALQ,EAKP,EALO,CAAT;;AAOA,QAAMO,WAAW,GAAG,MAAM;AACtB,QAAGP,KAAK,IAAI,IAAZ,EAAiB;AACbK,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAjB,MAAAA,YAAY,CAACG,EAAD,EAAII,QAAJ,EAAaD,QAAb,CAAZ;AACAM,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACAN,MAAAA,QAAQ,CAAC;AAACa,QAAAA,IAAI,EAAC,eAAN;AAAsBC,QAAAA,OAAO,EAAC;AAA9B,OAAD,CAAR;AACH,KALD,MAKM;AACFJ,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAlB,MAAAA,YAAY,CAACI,EAAD,EAAII,QAAJ,EAAaD,QAAb,CAAZ;AACAM,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACAN,MAAAA,QAAQ,CAAC;AAACa,QAAAA,IAAI,EAAC,YAAN;AAAmBC,QAAAA,OAAO,EAAC;AAA3B,OAAD,CAAR;AACH;AACJ,GAZD;;AAeA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKT,KAAK,gBAAI;AAAQ,IAAA,OAAO,EAAEO,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAJ,gBAA0D;AAAQ,IAAA,OAAO,EAAEA,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADpE,CADJ;AAKH,CAjCD;;AAmCA,eAAehB,QAAf","sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\nimport {increaseLike,decreaseLike} from '../../actions'\nimport AuthContext from '../../AuthContext'\n\nconst LikePost = ({id,favorites}) => {\n    const {state,dispatch} = useContext(AuthContext)\n    const {username,allPosts} = state;\n    const [values,setValues] = useState({id})\n    const [liked,setLiked] = useState('')\n    let prevLiked;\n    useEffect(()=>{\n            const prevLiked = favorites.findIndex(fav => fav == id) > -1;\n            console.log(prevLiked)\n            setLiked(prevLiked)\n            console.log(liked)\n    },[])\n    \n    const handleClick = () => {\n        if(liked == true){\n            console.log(\"like decreased\")\n            decreaseLike(id,username,dispatch)\n            setLiked(false)\n            dispatch({type:\"POST_DISLIKED\",payload:true})\n        } else{\n            console.log(\"like increased\")\n            increaseLike(id,username,dispatch)\n            setLiked(true)\n            dispatch({type:\"POST_LIKED\",payload:true})\n        }\n    }\n        \n    \n    return (\n        <div>\n            {liked ? (<button onClick={handleClick}>Unlike Post</button>): (<button onClick={handleClick}>Like Post</button>)}\n        </div>\n    )\n}\n\nexport default LikePost\n"]},"metadata":{},"sourceType":"module"}