{"ast":null,"code":"var _jsxFileName = \"/Users/andrewperez/Documents/projects/july_projects/mongo-blog/client/src/AuthProvider.js\";\nimport React, { createContext, useReducer, useEffect, useState } from 'react';\nimport Reducer from './Reducer';\nimport AuthContext from './AuthContext';\nexport const AuthProvider = props => {\n  const [username, setUsername] = useState('');\n  const [state, dispatch] = useReducer(Reducer, AuthContext);\n  useEffect(async () => {\n    dispatch({\n      type: \"FETCH_USER\"\n    });\n\n    if (state.username) {\n      console.log(state.username);\n    } else {\n      const res = await axios.post('/api/current_user');\n      console.log(\"here is the response from api/current_user\");\n      console.log(res);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, Object.assign({\n    value: {\n      state,\n      dispatch,\n      username: state.username\n    }\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }));\n};\nexport default AuthProvider;","map":{"version":3,"sources":["/Users/andrewperez/Documents/projects/july_projects/mongo-blog/client/src/AuthProvider.js"],"names":["React","createContext","useReducer","useEffect","useState","Reducer","AuthContext","AuthProvider","props","username","setUsername","state","dispatch","type","console","log","res","axios","post"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,aAAf,EAA6BC,UAA7B,EAAyCC,SAAzC,EAAmDC,QAAnD,QAAkE,OAAlE;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAO,MAAMC,YAAY,GAAIC,KAAD,IAAW;AACnC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACO,KAAD,EAAOC,QAAP,IAAmBV,UAAU,CAACG,OAAD,EAAUC,WAAV,CAAnC;AAGAH,EAAAA,SAAS,CAAC,YAAU;AAChBS,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;;AACA,QAAGF,KAAK,CAACF,QAAT,EAAkB;AACdK,MAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACF,QAAlB;AACH,KAFD,MAEM;AACF,YAAMO,GAAG,GAAG,MAAMC,KAAK,CAACC,IAAN,CAAW,mBAAX,CAAlB;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,4CAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACH;AACJ,GATQ,EASP,EATO,CAAT;AAUA,sBACI,oBAAC,WAAD,CAAa,QAAb;AACI,IAAA,KAAK,EAAE;AAACL,MAAAA,KAAD;AAAOC,MAAAA,QAAP;AAAgBH,MAAAA,QAAQ,EAACE,KAAK,CAACF;AAA/B;AADX,KAEQD,KAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ;AAMH,CArBM;AAsBP,eAAeD,YAAf","sourcesContent":["import React, {createContext,useReducer, useEffect,useState} from 'react'\nimport Reducer from './Reducer'\nimport AuthContext from './AuthContext'\n\nexport const AuthProvider = (props) => {\n    const [username, setUsername] = useState('')\n    const [state,dispatch] = useReducer(Reducer, AuthContext)\n\n    \n    useEffect(async ()=>{\n        dispatch({type:\"FETCH_USER\"})\n        if(state.username){\n            console.log(state.username)\n        } else{\n            const res = await axios.post('/api/current_user');\n            console.log(\"here is the response from api/current_user\")\n            console.log(res)\n        }\n    },[])\n    return(\n        <AuthContext.Provider\n            value={{state,dispatch,username:state.username}}\n            {...props}\n        />\n    )\n}\nexport default AuthProvider;"]},"metadata":{},"sourceType":"module"}